<%= tag.meta name: "turbo-visit-control", content: "reload" %>

<h1 class="form-title">レシピを編集する</h1>

<%= form_with model: @recipe, local: true,
              html: { multipart: true },
              data: { turbo: false } do |f| %>

  <%= render "form", f: f %>

  <div class="form-section">
    <%= f.label :description, "作り方", class: "form-label" %>
    <%= f.text_area :description, class: "tinymce form-input" %>
  </div>

  <div class="form-section">
    <%= f.label :grocery, "材料", class: "form-label" %>
    <%= f.text_area :grocery, class: "tinymce form-input" %>
  </div>

  <div class="submit-buttons">
    <%= f.submit "投稿する", class: "submit-button" %>
  </div>

<% end %>

<div class="form-footer">
  <%= link_to "やめる", recipes_path, class: "cancel-link" %>
  
  <%= link_to "削除する",
              recipe_path(@recipe),
              data: { turbo_method: :delete, turbo_confirm: "本当に削除しますか？" },
              class: "delete-link" %>
</div>